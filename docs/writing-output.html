<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3.9 Writing Output | Syllabus</title>
  <meta name="description" content="Description about Course/Book." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="3.9 Writing Output | Syllabus" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Description about Course/Book." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3.9 Writing Output | Syllabus" />
  
  <meta name="twitter:description" content="Description about Course/Book." />
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="assets/peppa.png" type="image/x-icon" />
<link rel="prev" href="introducing-sweep-mutations.html"/>
<link rel="next" href="code-from-week-2.html"/>
<script src="libs/header-attrs-2.10/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="assets/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<a href="https://andrew-bortvin.github.io/slimNotes/"><img src="assets/peppa.png" style=" width: 80%; padding-left: 40px; padding-top: 8px; vertical-align: top "</a>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Population Genetics: Simulation and Visualization</a></li>
<li class="chapter" data-level="2" data-path="syllabus-population-genetics-simulation-visualization.html"><a href="syllabus-population-genetics-simulation-visualization.html"><i class="fa fa-check"></i><b>2</b> Syllabus: Population Genetics Simulation &amp; Visualization</a>
<ul>
<li class="chapter" data-level="2.0.1" data-path="syllabus-population-genetics-simulation-visualization.html"><a href="syllabus-population-genetics-simulation-visualization.html#course-description"><i class="fa fa-check"></i><b>2.0.1</b> Course Description</a></li>
<li class="chapter" data-level="2.0.2" data-path="syllabus-population-genetics-simulation-visualization.html"><a href="syllabus-population-genetics-simulation-visualization.html#class-structure"><i class="fa fa-check"></i><b>2.0.2</b> Class Structure</a></li>
<li class="chapter" data-level="2.0.3" data-path="syllabus-population-genetics-simulation-visualization.html"><a href="syllabus-population-genetics-simulation-visualization.html#schedule"><i class="fa fa-check"></i><b>2.0.3</b> Schedule</a></li>
<li class="chapter" data-level="2.0.4" data-path="syllabus-population-genetics-simulation-visualization.html"><a href="syllabus-population-genetics-simulation-visualization.html#grading"><i class="fa fa-check"></i><b>2.0.4</b> Grading</a></li>
<li class="chapter" data-level="2.0.5" data-path="syllabus-population-genetics-simulation-visualization.html"><a href="syllabus-population-genetics-simulation-visualization.html#student-hours"><i class="fa fa-check"></i><b>2.0.5</b> Student Hours</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="slim-guide.html"><a href="slim-guide.html"><i class="fa fa-check"></i><b>3</b> SLiM Guide</a>
<ul>
<li class="chapter" data-level="3.1" data-path="a-basic-slim-simulation.html"><a href="a-basic-slim-simulation.html"><i class="fa fa-check"></i><b>3.1</b> A Basic SLiM Simulation</a></li>
<li class="chapter" data-level="3.2" data-path="initializing-a-simulation.html"><a href="initializing-a-simulation.html"><i class="fa fa-check"></i><b>3.2</b> Initializing a Simulation</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="initializing-a-simulation.html"><a href="initializing-a-simulation.html#global-mutation-rates"><i class="fa fa-check"></i><b>3.2.1</b> Global Mutation Rates</a></li>
<li class="chapter" data-level="3.2.2" data-path="initializing-a-simulation.html"><a href="initializing-a-simulation.html#mutation-types"><i class="fa fa-check"></i><b>3.2.2</b> Mutation Types</a></li>
<li class="chapter" data-level="3.2.3" data-path="initializing-a-simulation.html"><a href="initializing-a-simulation.html#types-of-dna"><i class="fa fa-check"></i><b>3.2.3</b> Types of DNA</a></li>
<li class="chapter" data-level="3.2.4" data-path="initializing-a-simulation.html"><a href="initializing-a-simulation.html#genomic-regions"><i class="fa fa-check"></i><b>3.2.4</b> Genomic Regions</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="running-a-simulation.html"><a href="running-a-simulation.html"><i class="fa fa-check"></i><b>3.3</b> Running a simulation</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="running-a-simulation.html"><a href="running-a-simulation.html#adding-subpopulations"><i class="fa fa-check"></i><b>3.3.1</b> Adding subpopulations</a></li>
<li class="chapter" data-level="3.3.2" data-path="running-a-simulation.html"><a href="running-a-simulation.html#events-that-occur-every-generation"><i class="fa fa-check"></i><b>3.3.2</b> Events that occur every generation</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="ending-a-simulation.html"><a href="ending-a-simulation.html"><i class="fa fa-check"></i><b>3.4</b> Ending a simulation</a></li>
<li class="chapter" data-level="3.5" data-path="multiple-mutations-elements-and-regions.html"><a href="multiple-mutations-elements-and-regions.html"><i class="fa fa-check"></i><b>3.5</b> Multiple Mutations, Elements and Regions</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="multiple-mutations-elements-and-regions.html"><a href="multiple-mutations-elements-and-regions.html#making-multiple-mutations"><i class="fa fa-check"></i><b>3.5.1</b> Making multiple mutations</a></li>
<li class="chapter" data-level="3.5.2" data-path="multiple-mutations-elements-and-regions.html"><a href="multiple-mutations-elements-and-regions.html#genomic-elements-with-multiple-mutations"><i class="fa fa-check"></i><b>3.5.2</b> Genomic Elements with multiple mutations</a></li>
<li class="chapter" data-level="3.5.3" data-path="multiple-mutations-elements-and-regions.html"><a href="multiple-mutations-elements-and-regions.html#multiple-genomic-elements-types"><i class="fa fa-check"></i><b>3.5.3</b> Multiple Genomic Elements Types</a></li>
<li class="chapter" data-level="3.5.4" data-path="multiple-mutations-elements-and-regions.html"><a href="multiple-mutations-elements-and-regions.html#multiple-genomic-elements"><i class="fa fa-check"></i><b>3.5.4</b> Multiple Genomic Elements</a></li>
<li class="chapter" data-level="3.5.5" data-path="multiple-mutations-elements-and-regions.html"><a href="multiple-mutations-elements-and-regions.html#slim-gui"><i class="fa fa-check"></i><b>3.5.5</b> SLiM GUI</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="week-1-assignment.html"><a href="week-1-assignment.html"><i class="fa fa-check"></i><b>3.6</b> Week 1 Assignment</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="week-1-assignment.html"><a href="week-1-assignment.html#population-size"><i class="fa fa-check"></i><b>3.6.1</b> 1.1 - Population Size</a></li>
<li class="chapter" data-level="3.6.2" data-path="week-1-assignment.html"><a href="week-1-assignment.html#selection"><i class="fa fa-check"></i><b>3.6.2</b> 1.2 - Selection</a></li>
<li class="chapter" data-level="3.6.3" data-path="week-1-assignment.html"><a href="week-1-assignment.html#multiple-mutation-types-multiple-genomic-regions"><i class="fa fa-check"></i><b>3.6.3</b> 1.3 - Multiple mutation types; multiple genomic regions</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="storing-information.html"><a href="storing-information.html"><i class="fa fa-check"></i><b>3.7</b> Storing Information</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="storing-information.html"><a href="storing-information.html#local-variables"><i class="fa fa-check"></i><b>3.7.1</b> Local variables</a></li>
<li class="chapter" data-level="3.7.2" data-path="storing-information.html"><a href="storing-information.html#constants"><i class="fa fa-check"></i><b>3.7.2</b> Constants</a></li>
<li class="chapter" data-level="3.7.3" data-path="storing-information.html"><a href="storing-information.html#simulation-values"><i class="fa fa-check"></i><b>3.7.3</b> Simulation Values</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="introducing-sweep-mutations.html"><a href="introducing-sweep-mutations.html"><i class="fa fa-check"></i><b>3.8</b> Introducing Sweep Mutations</a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="introducing-sweep-mutations.html"><a href="introducing-sweep-mutations.html#defining-the-mutation"><i class="fa fa-check"></i><b>3.8.1</b> Defining the Mutation</a></li>
<li class="chapter" data-level="3.8.2" data-path="introducing-sweep-mutations.html"><a href="introducing-sweep-mutations.html#sampling-individuals"><i class="fa fa-check"></i><b>3.8.2</b> Sampling individuals</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="writing-output.html"><a href="writing-output.html"><i class="fa fa-check"></i><b>3.9</b> Writing Output</a></li>
<li class="chapter" data-level="3.10" data-path="code-from-week-2.html"><a href="code-from-week-2.html"><i class="fa fa-check"></i><b>3.10</b> Code from Week 2</a></li>
<li class="chapter" data-level="3.11" data-path="week-2-assignment.html"><a href="week-2-assignment.html"><i class="fa fa-check"></i><b>3.11</b> Week 2 Assignment</a>
<ul>
<li class="chapter" data-level="3.11.1" data-path="week-2-assignment.html"><a href="week-2-assignment.html#hard-sweeps"><i class="fa fa-check"></i><b>3.11.1</b> Hard Sweeps</a></li>
<li class="chapter" data-level="3.11.2" data-path="week-2-assignment.html"><a href="week-2-assignment.html#advanced-exercises"><i class="fa fa-check"></i><b>3.11.2</b> Advanced Exercises</a></li>
<li class="chapter" data-level="3.11.3" data-path="week-2-assignment.html"><a href="week-2-assignment.html#advanced-exercise-1---hard-sweeps-recombination-and-hitchhiker-mutations."><i class="fa fa-check"></i><b>3.11.3</b> Advanced Exercise 1 - Hard Sweeps, Recombination, and Hitchhiker mutations.</a></li>
<li class="chapter" data-level="3.11.4" data-path="week-2-assignment.html"><a href="week-2-assignment.html#advanced-exercise-2---soft-sweeps-and-burts-of-environmental-pressure"><i class="fa fa-check"></i><b>3.11.4</b> Advanced Exercise 2 - Soft Sweeps and Burts of Environmental Pressure</a></li>
</ul></li>
<li class="chapter" data-level="3.12" data-path="multiple-populations.html"><a href="multiple-populations.html"><i class="fa fa-check"></i><b>3.12</b> Multiple Populations</a>
<ul>
<li class="chapter" data-level="3.12.1" data-path="multiple-populations.html"><a href="multiple-populations.html#adding-a-new-population"><i class="fa fa-check"></i><b>3.12.1</b> Adding a new population</a></li>
<li class="chapter" data-level="3.12.2" data-path="multiple-populations.html"><a href="multiple-populations.html#migration-between-populations"><i class="fa fa-check"></i><b>3.12.2</b> Migration between populations</a></li>
<li class="chapter" data-level="3.12.3" data-path="multiple-populations.html"><a href="multiple-populations.html#splitting-a-population-into-two"><i class="fa fa-check"></i><b>3.12.3</b> Splitting a population into two</a></li>
</ul></li>
<li class="chapter" data-level="3.13" data-path="code-from-week-3.html"><a href="code-from-week-3.html"><i class="fa fa-check"></i><b>3.13</b> Code from Week 3</a></li>
<li class="chapter" data-level="3.14" data-path="week-3-assignment.html"><a href="week-3-assignment.html"><i class="fa fa-check"></i><b>3.14</b> Week 3 Assignment</a>
<ul>
<li class="chapter" data-level="3.14.1" data-path="week-3-assignment.html"><a href="week-3-assignment.html#multiple-populations---graphic"><i class="fa fa-check"></i><b>3.14.1</b> Multiple Populations - Graphic</a></li>
<li class="chapter" data-level="3.14.2" data-path="week-3-assignment.html"><a href="week-3-assignment.html#multiple-populations---real-world"><i class="fa fa-check"></i><b>3.14.2</b> Multiple Populations - Real World</a></li>
</ul></li>
<li class="chapter" data-level="3.15" data-path="variable-population-size.html"><a href="variable-population-size.html"><i class="fa fa-check"></i><b>3.15</b> Variable Population Size</a>
<ul>
<li class="chapter" data-level="3.15.1" data-path="variable-population-size.html"><a href="variable-population-size.html#changing-population-size"><i class="fa fa-check"></i><b>3.15.1</b> Changing Population Size</a></li>
<li class="chapter" data-level="3.15.2" data-path="variable-population-size.html"><a href="variable-population-size.html#exercise"><i class="fa fa-check"></i><b>3.15.2</b> <strong>Exercise</strong></a></li>
<li class="chapter" data-level="3.15.3" data-path="variable-population-size.html"><a href="variable-population-size.html#multiple-size-changes"><i class="fa fa-check"></i><b>3.15.3</b> Multiple size changes</a></li>
<li class="chapter" data-level="3.15.4" data-path="variable-population-size.html"><a href="variable-population-size.html#maximumminimum-population-size"><i class="fa fa-check"></i><b>3.15.4</b> Maximum/Minimum Population Size</a></li>
<li class="chapter" data-level="3.15.5" data-path="variable-population-size.html"><a href="variable-population-size.html#exercise-1"><i class="fa fa-check"></i><b>3.15.5</b> <strong>Exercise</strong></a></li>
<li class="chapter" data-level="3.15.6" data-path="variable-population-size.html"><a href="variable-population-size.html#growth-rate-dependent-on-fitness"><i class="fa fa-check"></i><b>3.15.6</b> Growth rate dependent on fitness</a></li>
<li class="chapter" data-level="3.15.7" data-path="variable-population-size.html"><a href="variable-population-size.html#exercise-2"><i class="fa fa-check"></i><b>3.15.7</b> <strong>Exercise</strong></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="papers-of-interest.html"><a href="papers-of-interest.html"><i class="fa fa-check"></i><b>4</b> Papers of Interest</a>
<ul>
<li class="chapter" data-level="4.0.1" data-path="papers-of-interest.html"><a href="papers-of-interest.html#week-3---multiple-populations"><i class="fa fa-check"></i><b>4.0.1</b> Week 3 - Multiple Populations</a></li>
<li class="chapter" data-level="4.0.2" data-path="papers-of-interest.html"><a href="papers-of-interest.html#week-2---selection-and-sweeps"><i class="fa fa-check"></i><b>4.0.2</b> Week 2 - Selection and Sweeps</a></li>
<li class="chapter" data-level="4.0.3" data-path="papers-of-interest.html"><a href="papers-of-interest.html#week-3---multiple-populations-1"><i class="fa fa-check"></i><b>4.0.3</b> Week 3 - Multiple Populations</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="lecture-slides.html"><a href="lecture-slides.html"><i class="fa fa-check"></i><b>5</b> Lecture Slides</a></li>
<li class="chapter" data-level="" data-path="about-the-authors.html"><a href="about-the-authors.html"><i class="fa fa-check"></i>About the Authors</a></li>
<li class="chapter" data-level="6" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>6</b> References</a></li>
<li class="divider"></li>
<p style="text-align:center;"> <a href="https://github.com/jhudsl/OTTR_Template" target="blank" > This content was published with</a> <a href="https://bookdown.org/" target="blank"> bookdown by:</a> </p>
<p style="text-align:center;"> <a href="http://jhudatascience.org/"> The Johns Hopkins Data Science Lab </a></p>
<p style="text-align:center; font-size: 12px;"> <a href="https://github.com/rstudio4edu/rstudio4edu-book/"> Style adapted from: rstudio4edu-book </a> <a href ="https://creativecommons.org/licenses/by/2.0/"> (CC-BY 2.0) </a></p>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Syllabus</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="writing-output" class="section level2" number="3.9">
<h2><span class="header-section-number">3.9</span> Writing Output</h2>
<p>So far, we have used SLiM’s built-in functions to write output. Often, we will want to have a bit more control over our output.</p>
<p>The function used to write to a file in SLiM is <code>writeFile()</code>. We will always give <code>writeFile()</code> two arguments - the name of the file we want to write to, and the content we want to write. We typically will also provide the argument <code>append = T</code> or <code>append = F</code>. If <code>append</code> is False, then when we write to a file, we erase any existing contents in that file. If <code>append</code> is True, then then when we write to the file, we keep any existing contents and just add another line at the end.</p>
<p>For the sweep that we’ve introduced above, let’s say we want to run a few iterations of our simulation and save the following information:</p>
<ul>
<li>Number of generations since m2 was introduced</li>
<li>Current allele frequency of m2</li>
<li>The trial number</li>
</ul>
<p>We can save this in the format:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb24-1"><a href="writing-output.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="ex">Generation,</span> Allele.Frequency, Trial</span>
<span id="cb24-2"><a href="writing-output.html#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="ex">0,50,2</span></span>
<span id="cb24-3"><a href="writing-output.html#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="ex">1,57,2</span></span>
<span id="cb24-4"><a href="writing-output.html#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="ex">2,55,2</span></span>
<span id="cb24-5"><a href="writing-output.html#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="ex">3,47,2</span></span></code></pre></div>
<p>Here is a version of our script from the previous page, modified to write the above information to file:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb25-1"><a href="writing-output.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">initialize()</span><span class="kw">{</span></span>
<span id="cb25-2"><a href="writing-output.html#cb25-2" aria-hidden="true" tabindex="-1"></a>    <span class="ex">initializeMutationRate</span><span class="er">(</span><span class="ex">1e-7</span><span class="kw">);</span></span>
<span id="cb25-3"><a href="writing-output.html#cb25-3" aria-hidden="true" tabindex="-1"></a>    <span class="ex">//</span> Create mutation type</span>
<span id="cb25-4"><a href="writing-output.html#cb25-4" aria-hidden="true" tabindex="-1"></a>    <span class="ex">initializeMutationType</span><span class="er">(</span><span class="st">&quot;m1&quot;</span><span class="ex">,</span> 0.5, <span class="st">&quot;f&quot;</span>, 0.0<span class="kw">);</span></span>
<span id="cb25-5"><a href="writing-output.html#cb25-5" aria-hidden="true" tabindex="-1"></a>    <span class="ex">initializeMutationType</span><span class="er">(</span><span class="st">&quot;m2&quot;</span><span class="ex">,</span> 1, <span class="st">&quot;f&quot;</span>, 0.2<span class="kw">);</span></span>
<span id="cb25-6"><a href="writing-output.html#cb25-6" aria-hidden="true" tabindex="-1"></a>    <span class="ex">m2.convertToSubstitution</span> = F<span class="kw">;</span></span>
<span id="cb25-7"><a href="writing-output.html#cb25-7" aria-hidden="true" tabindex="-1"></a>    <span class="ex">m1.convertToSubstitution</span> = F<span class="kw">;</span></span>
<span id="cb25-8"><a href="writing-output.html#cb25-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb25-9"><a href="writing-output.html#cb25-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb25-10"><a href="writing-output.html#cb25-10" aria-hidden="true" tabindex="-1"></a>    <span class="ex">//</span> Create Types of DNA </span>
<span id="cb25-11"><a href="writing-output.html#cb25-11" aria-hidden="true" tabindex="-1"></a>    <span class="ex">initializeGenomicElementType</span><span class="er">(</span><span class="st">&quot;g1&quot;</span><span class="ex">,</span> m1, 1<span class="kw">);</span>   </span>
<span id="cb25-12"><a href="writing-output.html#cb25-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb25-13"><a href="writing-output.html#cb25-13" aria-hidden="true" tabindex="-1"></a>    <span class="ex">//</span> Arrange DNA into a genome</span>
<span id="cb25-14"><a href="writing-output.html#cb25-14" aria-hidden="true" tabindex="-1"></a>    <span class="ex">initializeGenomicElement</span><span class="er">(</span><span class="ex">g1,</span> 0, 3000<span class="kw">);</span></span>
<span id="cb25-15"><a href="writing-output.html#cb25-15" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb25-16"><a href="writing-output.html#cb25-16" aria-hidden="true" tabindex="-1"></a>    <span class="ex">initializeRecombinationRate</span><span class="er">(</span><span class="ex">1e-4</span><span class="kw">);</span></span>
<span id="cb25-17"><a href="writing-output.html#cb25-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb25-18"><a href="writing-output.html#cb25-18" aria-hidden="true" tabindex="-1"></a>    <span class="ex">defineConstant</span><span class="er">(</span><span class="st">&#39;trialNumber&#39;</span><span class="ex">,</span> 1<span class="kw">);</span></span>
<span id="cb25-19"><a href="writing-output.html#cb25-19" aria-hidden="true" tabindex="-1"></a>    <span class="ex">initializeSex</span><span class="er">(</span><span class="st">&quot;A&quot;</span><span class="kw">);</span></span>
<span id="cb25-20"><a href="writing-output.html#cb25-20" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb25-21"><a href="writing-output.html#cb25-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-22"><a href="writing-output.html#cb25-22" aria-hidden="true" tabindex="-1"></a><span class="ex">1</span> early<span class="er">(</span><span class="kw">){</span></span>
<span id="cb25-23"><a href="writing-output.html#cb25-23" aria-hidden="true" tabindex="-1"></a>    <span class="ex">sim.addSubpop</span><span class="er">(</span><span class="st">&quot;p1&quot;</span><span class="ex">,</span> 5000<span class="kw">);</span></span>
<span id="cb25-24"><a href="writing-output.html#cb25-24" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb25-25"><a href="writing-output.html#cb25-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-26"><a href="writing-output.html#cb25-26" aria-hidden="true" tabindex="-1"></a><span class="ex">300</span> late<span class="er">(</span><span class="kw">){</span></span>
<span id="cb25-27"><a href="writing-output.html#cb25-27" aria-hidden="true" tabindex="-1"></a>  <span class="ex">//</span> Initialize generation counter</span>
<span id="cb25-28"><a href="writing-output.html#cb25-28" aria-hidden="true" tabindex="-1"></a>  <span class="ex">sim.setValue</span><span class="er">(</span><span class="st">&quot;generationCount&quot;</span><span class="ex">,</span> 0<span class="kw">);</span></span>
<span id="cb25-29"><a href="writing-output.html#cb25-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-30"><a href="writing-output.html#cb25-30" aria-hidden="true" tabindex="-1"></a>  <span class="ex">//</span> Introduce sweep mutation at 5% allele frequency </span>
<span id="cb25-31"><a href="writing-output.html#cb25-31" aria-hidden="true" tabindex="-1"></a>    <span class="ex">p1_size</span> = size<span class="er">(</span><span class="ex">p1.genomes</span><span class="kw">);</span></span>
<span id="cb25-32"><a href="writing-output.html#cb25-32" aria-hidden="true" tabindex="-1"></a>    <span class="ex">initial_freq</span> = asInteger<span class="er">(</span><span class="ex">p1_size</span> <span class="pp">*</span> 0.05<span class="kw">);</span></span>
<span id="cb25-33"><a href="writing-output.html#cb25-33" aria-hidden="true" tabindex="-1"></a>    <span class="ex">target</span> = sample<span class="er">(</span><span class="ex">p1.genomes,</span> initial_freq<span class="kw">);</span></span>
<span id="cb25-34"><a href="writing-output.html#cb25-34" aria-hidden="true" tabindex="-1"></a>    <span class="ex">target.addNewDrawnMutation</span><span class="er">(</span><span class="ex">m2,</span> 1000<span class="kw">);</span>   </span>
<span id="cb25-35"><a href="writing-output.html#cb25-35" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb25-36"><a href="writing-output.html#cb25-36" aria-hidden="true" tabindex="-1"></a>    <span class="ex">//</span> Write the header for your file</span>
<span id="cb25-37"><a href="writing-output.html#cb25-37" aria-hidden="true" tabindex="-1"></a>    <span class="ex">line</span> = <span class="st">&quot;Generation, Allele.Frequency, Trial&quot;</span><span class="kw">;</span></span>
<span id="cb25-38"><a href="writing-output.html#cb25-38" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb25-39"><a href="writing-output.html#cb25-39" aria-hidden="true" tabindex="-1"></a>    <span class="ex">//</span> Get a file name</span>
<span id="cb25-40"><a href="writing-output.html#cb25-40" aria-hidden="true" tabindex="-1"></a>    <span class="ex">//</span> this is standard syntax for Mac<span class="kw">;</span> <span class="ex">see</span> below for non-Mac systems</span>
<span id="cb25-41"><a href="writing-output.html#cb25-41" aria-hidden="true" tabindex="-1"></a>    <span class="ex">defineConstant</span><span class="er">(</span><span class="st">&quot;fname&quot;</span><span class="ex">,</span> paste<span class="er">(</span><span class="st">&quot;~/slim/AF_trial&quot;</span><span class="ex">,</span> trialNumber, <span class="st">&quot;.csv&quot;</span>, sep =<span class="st">&quot;&quot;</span><span class="kw">));</span></span>
<span id="cb25-42"><a href="writing-output.html#cb25-42" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb25-43"><a href="writing-output.html#cb25-43" aria-hidden="true" tabindex="-1"></a>    <span class="ex">//</span> Write to file</span>
<span id="cb25-44"><a href="writing-output.html#cb25-44" aria-hidden="true" tabindex="-1"></a>    <span class="ex">writeFile</span><span class="er">(</span><span class="ex">fname,</span> line, append=F<span class="kw">);</span> </span>
<span id="cb25-45"><a href="writing-output.html#cb25-45" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb25-46"><a href="writing-output.html#cb25-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-47"><a href="writing-output.html#cb25-47" aria-hidden="true" tabindex="-1"></a><span class="ex">300:1000</span> late<span class="er">(</span><span class="kw">){</span></span>
<span id="cb25-48"><a href="writing-output.html#cb25-48" aria-hidden="true" tabindex="-1"></a>    <span class="ex">gen</span> = sim.getValue<span class="er">(</span><span class="st">&quot;generationCount&quot;</span><span class="kw">);</span></span>
<span id="cb25-49"><a href="writing-output.html#cb25-49" aria-hidden="true" tabindex="-1"></a>    <span class="ex">//</span> Count number of m2 mutations</span>
<span id="cb25-50"><a href="writing-output.html#cb25-50" aria-hidden="true" tabindex="-1"></a>    <span class="ex">m2_count</span> = sum<span class="er">(</span><span class="ex">p1.genomes.countOfMutationsOfType</span><span class="er">(</span><span class="ex">m2</span><span class="kw">));</span></span>
<span id="cb25-51"><a href="writing-output.html#cb25-51" aria-hidden="true" tabindex="-1"></a>    <span class="ex">//</span> Write data to file</span>
<span id="cb25-52"><a href="writing-output.html#cb25-52" aria-hidden="true" tabindex="-1"></a>    <span class="ex">line</span> = paste<span class="er">(</span><span class="ex">gen,</span> m2_count, trialNumber, sep = <span class="st">&quot;,&quot;</span><span class="kw">);</span></span>
<span id="cb25-53"><a href="writing-output.html#cb25-53" aria-hidden="true" tabindex="-1"></a>    <span class="ex">writeFile</span><span class="er">(</span><span class="ex">fname,</span> line, append=T<span class="kw">);</span></span>
<span id="cb25-54"><a href="writing-output.html#cb25-54" aria-hidden="true" tabindex="-1"></a>    <span class="ex">//</span> Update generation counter</span>
<span id="cb25-55"><a href="writing-output.html#cb25-55" aria-hidden="true" tabindex="-1"></a>    <span class="ex">sim.setValue</span><span class="er">(</span><span class="st">&quot;generationCount&quot;</span><span class="ex">,</span> gen + 1<span class="kw">);</span></span>
<span id="cb25-56"><a href="writing-output.html#cb25-56" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb25-57"><a href="writing-output.html#cb25-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-58"><a href="writing-output.html#cb25-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-59"><a href="writing-output.html#cb25-59" aria-hidden="true" tabindex="-1"></a><span class="ex">1000</span> late<span class="er">(</span><span class="kw">)</span> <span class="kw">{</span> </span>
<span id="cb25-60"><a href="writing-output.html#cb25-60" aria-hidden="true" tabindex="-1"></a>     <span class="ex">print</span><span class="er">(</span><span class="st">&#39;Number of fixed mutations:&#39;</span><span class="kw">);</span></span>
<span id="cb25-61"><a href="writing-output.html#cb25-61" aria-hidden="true" tabindex="-1"></a>     <span class="ex">print</span><span class="er">(</span><span class="ex">length</span><span class="er">(</span><span class="ex">sim.substitutions</span><span class="kw">));</span></span>
<span id="cb25-62"><a href="writing-output.html#cb25-62" aria-hidden="true" tabindex="-1"></a>     <span class="fu">sim.simulationFinished()</span><span class="kw">;</span></span>
<span id="cb25-63"><a href="writing-output.html#cb25-63" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span></code></pre></div>
<p>Let’s break down the additions:</p>
<ul>
<li>In the initialize statement, we add the following line: <code>defineConstant('trialNumber', 1);</code> This sets the trial number as a constant (persists throughout the simulation, cannot be modified) equal to 1.</li>
<li>In the code block at generation 300 where we add the sweep mutation, we add the following lines of code</li>
</ul>
<div class="sourceCode" id="cb26"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb26-1"><a href="writing-output.html#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="ex">//</span> Initialize generation counter</span>
<span id="cb26-2"><a href="writing-output.html#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="ex">sim.setValue</span><span class="er">(</span><span class="st">&quot;generationCount&quot;</span><span class="ex">,</span> 0<span class="kw">);</span></span></code></pre></div>
<p>This initializes a generation counter and sets it equal to 0. Because this is saved as a simulation value, we will be able to update the value of our counter throughout the simulation . This will be the leftmost column of our output.
* In the code block at generation 300 where we add the sweep mutation, we add the following lines of code:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb27-1"><a href="writing-output.html#cb27-1" aria-hidden="true" tabindex="-1"></a>    <span class="ex">//</span> Write the header for your file</span>
<span id="cb27-2"><a href="writing-output.html#cb27-2" aria-hidden="true" tabindex="-1"></a>    <span class="ex">line</span> = <span class="st">&quot;Generation, Allele.Frequency, Trial&quot;</span><span class="kw">;</span></span>
<span id="cb27-3"><a href="writing-output.html#cb27-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb27-4"><a href="writing-output.html#cb27-4" aria-hidden="true" tabindex="-1"></a>    <span class="ex">//</span> Get a file name</span>
<span id="cb27-5"><a href="writing-output.html#cb27-5" aria-hidden="true" tabindex="-1"></a>    <span class="ex">defineConstant</span><span class="er">(</span><span class="st">&quot;fname&quot;</span><span class="ex">,</span> paste<span class="er">(</span><span class="st">&quot;~/AF_trial&quot;</span><span class="ex">,</span> trialNumber, <span class="st">&quot;.csv&quot;</span>, sep =<span class="st">&quot;&quot;</span><span class="kw">));</span></span>
<span id="cb27-6"><a href="writing-output.html#cb27-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb27-7"><a href="writing-output.html#cb27-7" aria-hidden="true" tabindex="-1"></a>    <span class="ex">//</span> Write to file</span>
<span id="cb27-8"><a href="writing-output.html#cb27-8" aria-hidden="true" tabindex="-1"></a>    <span class="ex">writeFile</span><span class="er">(</span><span class="ex">fname,</span> line, append=F<span class="kw">);</span> </span></code></pre></div>
<p>Here, we define the local variable <code>line</code> to be the text of the first line of our file. Next, we define a constant containing our output file name. To do this, we use the <code>paste()</code> function - this function takes as input a set of variables and combines them together, separating them by the characters provided in the argument <code>sep =""</code>. For example, the above paste command produces the filename <code>"~/AF_trial1.csv"</code>. Finally, we write to file. Because we do want this line to be the first line of our file, we do not append.</p>
<p>For non-Mac users, the syntax <code>"~/directory/filename"</code> won’t work. Instead, you’ll need to specify the exact path to where you want the file, starting with the system path (e.g., C for computer, D for downloads, etc. depending on your system). In the above example, everything would be the same, but you’d replace the <code>defineConstant</code> line with <code>defineConstant("fname", paste("C:/Users/[user]/Downloads/AF_trial", trialNumber, ".csv", sep=""));</code>. The “user” should be accessible via your system; for me, it’s firstnamelastname. You can also create a folder (titled “popsims”) within Downloads (or whatever directory you choose) to host the files from this class. In that case, your line would be <code>defineConstant("fname", paste("C:/Users/[user]/Downloads/popsims/AF_trial", trialNumber, ".csv", sep=""));</code>. This syntax will be the same for writing files in SLiM; just choose a filepath and folder that you’ll be able to access so you can view your output files and use them downstream in visualizations.</p>
<ul>
<li>We’ve added the following code block:</li>
</ul>
<div class="sourceCode" id="cb28"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb28-1"><a href="writing-output.html#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="ex">300:1000</span> late<span class="er">(</span><span class="kw">){</span></span>
<span id="cb28-2"><a href="writing-output.html#cb28-2" aria-hidden="true" tabindex="-1"></a>    <span class="ex">gen</span> = sim.getValue<span class="er">(</span><span class="st">&quot;generationCount&quot;</span><span class="kw">);</span></span>
<span id="cb28-3"><a href="writing-output.html#cb28-3" aria-hidden="true" tabindex="-1"></a>    <span class="ex">//</span> Count number of m2 mutations</span>
<span id="cb28-4"><a href="writing-output.html#cb28-4" aria-hidden="true" tabindex="-1"></a>    <span class="ex">m2_count</span> = sum<span class="er">(</span><span class="ex">p1.genomes.countOfMutationsOfType</span><span class="er">(</span><span class="ex">m2</span><span class="kw">));</span></span>
<span id="cb28-5"><a href="writing-output.html#cb28-5" aria-hidden="true" tabindex="-1"></a>    <span class="ex">//</span> Write data to file</span>
<span id="cb28-6"><a href="writing-output.html#cb28-6" aria-hidden="true" tabindex="-1"></a>    <span class="ex">line</span> = paste<span class="er">(</span><span class="ex">gen,</span> m2_count, trialNumber, sep = <span class="st">&quot;,&quot;</span><span class="kw">);</span></span>
<span id="cb28-7"><a href="writing-output.html#cb28-7" aria-hidden="true" tabindex="-1"></a>    <span class="ex">writeFile</span><span class="er">(</span><span class="ex">fname,</span> line, append=T<span class="kw">);</span></span>
<span id="cb28-8"><a href="writing-output.html#cb28-8" aria-hidden="true" tabindex="-1"></a>    <span class="ex">//</span> Update generation counter</span>
<span id="cb28-9"><a href="writing-output.html#cb28-9" aria-hidden="true" tabindex="-1"></a>    <span class="ex">sim.setValue</span><span class="er">(</span><span class="st">&quot;generationCount&quot;</span><span class="ex">,</span> gen + 1<span class="kw">);</span></span>
<span id="cb28-10"><a href="writing-output.html#cb28-10" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span></code></pre></div>
<p>Here, we access the m2 mutations using the syntax: <code>p1.genomes.countOfMutationsOfType(m2)</code>. Then, we paste together the number of generations since m2 was introduced, the current m2 count, and the trial number, this time separating our entries by commas. We add this line to the end our file (by appending). Finally, we take our generation counter and raise it by one.</p>

</div>
<hr>
<center> 
  <div class="footer">
      All illustrations <a href="https://creativecommons.org/licenses/by/4.0/">CC-BY. </a>
      <br>
      All other materials <a href= "https://creativecommons.org/licenses/by/4.0/"> CC-BY </a> unless noted otherwise.
  </div>
</center>
            </section>

          </div>
        </div>
      </div>
<a href="introducing-sweep-mutations.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="code-from-week-2.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"depth": 1,
"split_bib": 1
}
});
});
</script>

</body>

</html>
