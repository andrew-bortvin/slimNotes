<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3.3 Initliazing a Simulation | Syllabus</title>
  <meta name="description" content="Description about Course/Book." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="3.3 Initliazing a Simulation | Syllabus" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Description about Course/Book." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3.3 Initliazing a Simulation | Syllabus" />
  
  <meta name="twitter:description" content="Description about Course/Book." />
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="assets/peppa.png" type="image/x-icon" />
<link rel="prev" href="a-basic-slim-simulation.html"/>
<link rel="next" href="running-a-simulation.html"/>
<script src="libs/header-attrs-2.10/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="assets/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<a href="https://andrew-bortvin.github.io/slimNotes/"><img src="assets/peppa.png" style=" width: 80%; padding-left: 40px; padding-top: 8px; vertical-align: top "</a>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Syllabus</a></li>
<li class="chapter" data-level="2" data-path="slim-guide.html"><a href="slim-guide.html"><i class="fa fa-check"></i><b>2</b> SLiM Guide</a></li>
<li class="chapter" data-level="3" data-path="syllabus-population-genetics-simulation-visualization.html"><a href="syllabus-population-genetics-simulation-visualization.html"><i class="fa fa-check"></i><b>3</b> Syllabus: Population Genetics Simulation &amp; Visualization</a>
<ul>
<li class="chapter" data-level="3.0.1" data-path="syllabus-population-genetics-simulation-visualization.html"><a href="syllabus-population-genetics-simulation-visualization.html#course-description"><i class="fa fa-check"></i><b>3.0.1</b> Course Description</a></li>
<li class="chapter" data-level="3.0.2" data-path="syllabus-population-genetics-simulation-visualization.html"><a href="syllabus-population-genetics-simulation-visualization.html#class-structure"><i class="fa fa-check"></i><b>3.0.2</b> Class Structure</a></li>
<li class="chapter" data-level="3.0.3" data-path="syllabus-population-genetics-simulation-visualization.html"><a href="syllabus-population-genetics-simulation-visualization.html#schedule"><i class="fa fa-check"></i><b>3.0.3</b> Schedule</a></li>
<li class="chapter" data-level="3.0.4" data-path="syllabus-population-genetics-simulation-visualization.html"><a href="syllabus-population-genetics-simulation-visualization.html#grading"><i class="fa fa-check"></i><b>3.0.4</b> Grading</a></li>
<li class="chapter" data-level="3.0.5" data-path="syllabus-population-genetics-simulation-visualization.html"><a href="syllabus-population-genetics-simulation-visualization.html#student-hours"><i class="fa fa-check"></i><b>3.0.5</b> Student Hours</a></li>
<li class="chapter" data-level="3.1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="a-basic-slim-simulation.html"><a href="a-basic-slim-simulation.html"><i class="fa fa-check"></i><b>3.2</b> A Basic SLiM Simulation</a></li>
<li class="chapter" data-level="3.3" data-path="initliazing-a-simulation.html"><a href="initliazing-a-simulation.html"><i class="fa fa-check"></i><b>3.3</b> Initliazing a Simulation</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="initliazing-a-simulation.html"><a href="initliazing-a-simulation.html#global-mutation-rates"><i class="fa fa-check"></i><b>3.3.1</b> Global Mutation Rates</a></li>
<li class="chapter" data-level="3.3.2" data-path="initliazing-a-simulation.html"><a href="initliazing-a-simulation.html#mutation-types"><i class="fa fa-check"></i><b>3.3.2</b> Mutation Types</a></li>
<li class="chapter" data-level="3.3.3" data-path="initliazing-a-simulation.html"><a href="initliazing-a-simulation.html#types-of-dna"><i class="fa fa-check"></i><b>3.3.3</b> Types of DNA</a></li>
<li class="chapter" data-level="3.3.4" data-path="initliazing-a-simulation.html"><a href="initliazing-a-simulation.html#genomic-regions"><i class="fa fa-check"></i><b>3.3.4</b> Genomic Regions</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="running-a-simulation.html"><a href="running-a-simulation.html"><i class="fa fa-check"></i><b>3.4</b> Running a simulation</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="running-a-simulation.html"><a href="running-a-simulation.html#adding-subpopulations"><i class="fa fa-check"></i><b>3.4.1</b> Adding subpopulations</a></li>
<li class="chapter" data-level="3.4.2" data-path="running-a-simulation.html"><a href="running-a-simulation.html#events-that-occur-every-generation"><i class="fa fa-check"></i><b>3.4.2</b> Events that occur every generation</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="ending-a-simulation.html"><a href="ending-a-simulation.html"><i class="fa fa-check"></i><b>3.5</b> Ending a simulation</a></li>
<li class="chapter" data-level="3.6" data-path="week-1-assignment.html"><a href="week-1-assignment.html"><i class="fa fa-check"></i><b>3.6</b> Week 1 Assignment</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="week-1-assignment.html"><a href="week-1-assignment.html#population-size"><i class="fa fa-check"></i><b>3.6.1</b> 1.1 - Population Size</a></li>
<li class="chapter" data-level="3.6.2" data-path="week-1-assignment.html"><a href="week-1-assignment.html#selection"><i class="fa fa-check"></i><b>3.6.2</b> 1.2 - Selection</a></li>
<li class="chapter" data-level="3.6.3" data-path="week-1-assignment.html"><a href="week-1-assignment.html#multiple-mutation-types-multiple-genomic-regions"><i class="fa fa-check"></i><b>3.6.3</b> 1.3 - Multiple mutation types; multiple genomic regions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="about-the-authors.html"><a href="about-the-authors.html"><i class="fa fa-check"></i>About the Authors</a></li>
<li class="chapter" data-level="4" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>4</b> References</a></li>
<li class="divider"></li>
<p style="text-align:center;"> <a href="https://github.com/jhudsl/OTTR_Template" target="blank" > This content was published with</a> <a href="https://bookdown.org/" target="blank"> bookdown by:</a> </p>
<p style="text-align:center;"> <a href="http://jhudatascience.org/"> The Johns Hopkins Data Science Lab </a></p>
<p style="text-align:center; font-size: 12px;"> <a href="https://github.com/rstudio4edu/rstudio4edu-book/"> Style adapted from: rstudio4edu-book </a> <a href ="https://creativecommons.org/licenses/by/2.0/"> (CC-BY 2.0) </a></p>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Syllabus</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="initliazing-a-simulation" class="section level2" number="3.3">
<h2><span class="header-section-number">3.3</span> Initliazing a Simulation</h2>
<p>The first step in running a simulation is defining all of the parameters that characterize our populations - how many populations are we studying? How big are they? What do individual genomes look like? We use an <code>initialize()</code> block to define any parameters like this.</p>
<p>In almost every simulation, we will define a core set of common parameters. They are:</p>
<div id="global-mutation-rates" class="section level3" number="3.3.1">
<h3><span class="header-section-number">3.3.1</span> Global Mutation Rates</h3>
<p>The mutation rate is set by the command <code>initializeMutationRate()</code>. In its simplest form, we run this function with a single argument, the mutation, as such: <code>initializeMutationRate(1e-7);</code>. Now, when executing the simulation, SLiM will go through each gamete base by base, and will introduce a mutation with a probability of <code>1e-7</code>.</p>
</div>
<div id="mutation-types" class="section level3" number="3.3.2">
<h3><span class="header-section-number">3.3.2</span> Mutation Types</h3>
<p>When running our simulation, we can distinguish between multiple kinds of mutations, each with their own prevalence and impact - for example, a neutral substitution, or a lethal deletion, or a rare variant that confers a selective advantage. To create a mutation type, we use the <code>initializeMutationType()</code> command. For example, this following line of code creates a deleterious mutation:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="initliazing-a-simulation.html#cb2-1" aria-hidden="true" tabindex="-1"></a>initializeMutationType(<span class="st">&quot;m1&quot;</span>, <span class="fl">0.5</span>, <span class="st">&quot;f&quot;</span>, <span class="op">-</span><span class="fl">0.02</span>)<span class="op">;</span> </span></code></pre></div>
<p>Let’s break the arguments to <code>initializeMutationType</code> down:</p>
<ul>
<li>the <strong>mutation id</strong>: this can be any integer, or a string in the format <code>m&lt;integer&gt;</code>. This is the name that you will use to keep track of your mutation.</li>
<li>the <strong>dominance coefficient</strong>: Here, <code>0.5</code>. This is used when determining how a mutation impacts the fitness of your individual. A mutation with a dominance coefficient of <code>1.0</code> is completely dominant; a mutation with a dominance coefficient of <code>0.0</code> is recessive. Mutations with values in between represent incomplete dominance - in our case, <code>0.5</code> indicates that heterozygotes have half the fitness effect of the mutation</li>
<li>the last two arguments, <code>"f"</code> and <code>-0.02</code> denote the <strong>distribution</strong> and <strong>magnitude</strong> of <strong>how our mutation impacts fitness</strong>. <code>f</code> indicates that the effect is <em>fixed</em> - that is, the mutation impacts all affected individuals identically. The value <code>-0.02</code> indicates that this effect is a fitness reduction of 0.02 - any individual homozygous for this allele is expected to have offspring at 0.98 the frequency of an individual without this allele, all else being equal. While this allele has the same effect on all carriers, we can also create alleles with different fitness effect distributions - for example <code>"n"</code> indicates that for each individual with this mutation, we draw the fitness effect from a normal distribution, <code>"e"</code> indicates that we draw fitness effects from the exponential distribution. For some of these, e.g. the normal distribution, we may need to provide more than one numerical parameter.</li>
</ul>
</div>
<div id="types-of-dna" class="section level3" number="3.3.3">
<h3><span class="header-section-number">3.3.3</span> Types of DNA</h3>
<p>Now that we have defined the types of mutations we can encounter in our simulation, we can no specify the types of genomic regions that we are working with. For example, we can create genomic regions that represent telomeres, centromeres, introns, exons, etc. And intuitively, we can anticipate that mutations are likely to have different effects in different regions (for example, a SNP in an exon is more likely to have a dramatic phenotypic impact than a SNP in a centromere).</p>
<p>We can define a type of DNA using the <code>initializeGenomicElementType()</code> function. This function takes three argument, in the following order:</p>
<ul>
<li>the <strong>name</strong> of the genomic region (in the form <code>"g"</code> + an integer)</li>
<li>the <strong>kinds of mutations</strong> that can occur in this type of DNA region.</li>
<li>the <strong>relative frequencies</strong> of differnet mutation types</li>
</ul>
<p>Here is a simple example of this command:</p>
<p><code>initializeGenomicElementType("g1", m1, 1.0);</code></p>
<p>This creates a type of DNA region called <code>"g1"</code>, which can only have <code>m1</code> type mutations. Since there is only one type of mutation, it happens at a frequency of <code>1</code>.</p>
</div>
<div id="genomic-regions" class="section level3" number="3.3.4">
<h3><span class="header-section-number">3.3.4</span> Genomic Regions</h3>
<p>Now that we have definied a type of DNA that we can see in our genome, we need to great a specific instance of it. This is done with the <code>initializeGenomicElement()</code> command. This takes as arguments:</p>
<ul>
<li>the <em>type of genomic element</em></li>
<li>the <em>start coordinate</em></li>
<li>the <em>stop coordinate</em></li>
</ul>
<p>For example:</p>
<p><code>initializeGenomicElement(g1, 0, 99999);</code></p>
<p>This creates a genomic element of type <code>g1</code>, which extends from bases 0 to 99999.</p>
<div id="recombination-rates" class="section level4" number="3.3.4.1">
<h4><span class="header-section-number">3.3.4.1</span> Recombination Rates</h4>
<p>Lastly, we need to set the recombination rate. This is done using the <code>initializeRecombinationRate()</code> function, which functions similarly to how we defined mutation rates. For this function, we just provide a float defining the per base recombination rate:</p>
<p><code>initializeRecombinationRate(1e-8);</code></p>

</div>
</div>
</div>
<hr>
<center> 
  <div class="footer">
      All illustrations <a href="https://creativecommons.org/licenses/by/4.0/">CC-BY. </a>
      <br>
      All other materials <a href= "https://creativecommons.org/licenses/by/4.0/"> CC-BY </a> unless noted otherwise.
  </div>
</center>
            </section>

          </div>
        </div>
      </div>
<a href="a-basic-slim-simulation.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="running-a-simulation.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"depth": 1,
"split_bib": 1
}
});
});
</script>

</body>

</html>
